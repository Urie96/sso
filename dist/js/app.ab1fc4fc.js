(function(e){function r(r){for(var o,a,s=r[0],u=r[1],i=r[2],c=0,f=[];c<s.length;c++)a=s[c],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&f.push(n[a][0]),n[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);p&&p(r);while(f.length)f.shift()();return l.push.apply(l,i||[]),t()}function t(){for(var e,r=0;r<l.length;r++){for(var t=l[r],o=!0,s=1;s<t.length;s++){var u=t[s];0!==n[u]&&(o=!1)}o&&(l.splice(r--,1),e=a(a.s=t[0]))}return e}var o={},n={app:0},l=[];function a(r){if(o[r])return o[r].exports;var t=o[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=o,a.d=function(e,r,t){a.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,r){if(1&r&&(e=a(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)a.d(t,o,function(r){return e[r]}.bind(null,o));return t},a.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(r,"a",r),r},a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=r,s=s.slice();for(var i=0;i<s.length;i++)r(s[i]);var p=u;l.push([0,"chunk-vendors"]),t()})({0:function(e,r,t){e.exports=t("56d7")},"034f":function(e,r,t){"use strict";t("85ec")},"56d7":function(e,r,t){"use strict";t.r(r);var o=t("2b0e"),n=t("5c96"),l=(t("b8e0"),t("425f"),t("eca7"),t("10cb"),t("1951"),t("aaa5"),t("0fb7"),function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"app"}},[t("el-card",{attrs:{shadow:"always"}},[t("div",{attrs:{slot:"header"},slot:"header"},[e._v("Welcome")]),t("div",{staticStyle:{"padding-top":"10px"}}),t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[t("el-form-item",{attrs:{label:"",prop:"phone"}},[t("el-input",{attrs:{placeholder:"Phone","prefix-icon":"el-icon-mobile-phone",autofocus:"",clearable:""},model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",r)},expression:"ruleForm.phone"}})],1),t("el-form-item",{attrs:{label:"",prop:"pass"}},[t("el-input",{attrs:{clearable:"","show-password":"",type:"password",placeholder:"Password","prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submitForm(r)}},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(" Login ")])],1)],1)],1)],1)}),a=[];function s(e){Object(n["Message"])({message:e,type:"error",center:!0})}var u={data(){const e=(e,r,t)=>{if(""===r.trim())return void t(new Error("Please enter phone number"));const o=/^[1][3,4,5,7,8][0-9]{9}$/;o.test(r)?t():t(new Error("Phone number format is incorrect"))},r=(e,r,t)=>{""!==r?r.length<6||r.length>16?t(new Error("Password length must between 6 to 16")):(this.$refs.ruleForm.validateField("phone"),t()):t(new Error("Please enter password"))};return{ruleForm:{phone:"",pass:""},rules:{phone:[{validator:e,trigger:"blur"}],pass:[{validator:r,trigger:"blur"}]}}},methods:{submitForm(){this.$refs.ruleForm.validate(e=>{if(e){const e={phone:this.ruleForm.phone,password:this.ruleForm.pass};fetch("/login",{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"POST"}).then(e=>e.json()).then(e=>{e.error?s(e.error):e.returnTo&&(location.href=e.returnTo)}).catch(e=>{s(e.message)})}})}}},i=u,p=(t("034f"),t("2877")),c=Object(p["a"])(i,l,a,!1,null,null,null),f=c.exports;o["default"].use(n["Card"]),o["default"].use(n["Form"]),o["default"].use(n["FormItem"]),o["default"].use(n["Input"]),o["default"].use(n["Button"]),o["default"].use(n["Icon"]),o["default"].prototype.$message=n["Message"],o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(f)}}).$mount("#app")},"85ec":function(e,r,t){}});